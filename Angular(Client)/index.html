<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>AngularJS Client</title>
  <script src="bower_components/angular/angular.min.js"></script>
  <script src="bower_components/soapclient/soapclient.js"></script>
  <script src="bower_components/angular-soap/angular.soap.js"></script>
  
	<script type="text/javascript">
		var app = angular.module("TaskManagement", ['angularSoap']);
	 
		app.controller("TaskController", ['$scope', '$soap', '$http', function($scope, $soap, $http) {
			$scope.soapTasks = [];
	
			$soap.post('http://localhost:8080/SOAPWS/TaskWS', "GetTasks").then(function(response){
				$scope.soapTasks = response;
      });
      
			$soap.post('http://localhost:8080/SOAPWS/TaskWS', "GetTask", {taskId: 2}).then(function(response){
				$scope.soapTask1 = response;
      });
      
			$soap.post('http://localhost:8080/SOAPWS/TaskWS', "CreateTask", { name: 'test task', priority: 5, description: 'test desc' }).then(function(response){
				$scope.soapTask2 = response;
      });
      
			$soap.post('http://localhost:8080/SOAPWS/TaskWS', "UpdateTask", { taskId: 3, name: 'naaaaaame', priority: 32, description: 'deeeeeesc' }).then(function(response){
				$scope.soapTask3 = response;
      });
      
			$soap.post('http://localhost:8080/SOAPWS/TaskWS', "DeleteTask", { taskId: 1 }).then(function(response){
      });
      
      $http.get('http://localhost:7596/api/tasks').then(function(response){
        $scope.restTasks = response;
      });
      
		}]);
	</script>
</head>
<body ng-app="TaskManagement" ng-controller="TaskController">
	List of tasks(SOAP):<p>{{soapTasks}}</p>
  Get single task(SOAP):<p>{{soapTask1}}</p>
  Newly created task(SOAP):<p>{{soapTask2}}</p>
  Updated task with taskId 3(SOAP):<p>{{soapTask3}}</p>
  Deleted task with taskId 1(SOAP):<p></p>
  
  List of tasks(REST): <p>{{restTasks}}</p>
</body>
</html>